{% extends "base.html" %}

{% block content %}
<div data-scroll-container>
    <!-- Portfolio Header Section -->
    <section class="pt-32 pb-16 bg-gray-50 relative overflow-hidden" data-scroll-section>
        <!-- Background Pattern -->
        <div class="absolute inset-0 bg-pattern opacity-5"></div>
        
        <div class="container mx-auto px-4 relative z-10">
            <div class="max-w-4xl mx-auto text-center">
                <h4 class="text-primary font-medium mb-4" data-aos="fade-up">Portfolio</h4>
                <h1 class="text-4xl md:text-6xl font-bold text-dark mb-6" data-aos="fade-up" data-aos-delay="100">
                    {% if filter_type %}
                    {{ filter_type }}: {{ filter_name }}
                    {% else %}
                    Featured Projects
                    {% endif %}
                </h1>
                <p class="text-xl text-body max-w-2xl mx-auto" data-aos="fade-up" data-aos-delay="200">
                    Explore my collection of projects showcasing Zoho development, Python automation, and IT solutions.
                </p>
            </div>
        </div>
    </section>

    <!-- Portfolio Grid Section -->
    <section class="py-20" data-scroll-section>
        <div class="container mx-auto px-4">
            {% if projects %}
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                {% for project in projects %}
                <article class="group" data-aos="fade-up" data-aos-delay="{{ loop.index * 100 }}">
                    <div class="relative overflow-hidden rounded-2xl shadow-xl">
                        <!-- Project Image -->
                        <div class="relative h-80 overflow-hidden">
                            <img src="{{ url_for('get_image', model_name='project', image_id=project.id) }}"
                                 alt="Image for {{ project.title }}"
                                 class="w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-500"
                                 loading="lazy">
                            
                            <!-- Overlay -->
                            <div class="absolute inset-0 bg-gradient-to-t from-dark/90 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end">
                                <div class="p-8">
                                    <h3 class="text-2xl font-bold text-white mb-3">{{ project.title }}</h3>
                                    <p class="text-gray-200 mb-4 line-clamp-2">
                                        {{ project.description | striptags | truncate(150, True, '...') }}
                                    </p>
                                    <a href="{{ url_for('project_detail', slug=project.slug) }}"
                                       class="inline-flex items-center px-6 py-3 bg-primary text-white rounded-lg transform hover:-translate-y-1 transition-all duration-300"
                                       aria-label="View project {{ project.title }}">
                                        View Project
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 ml-2" viewBox="0 0 20 20" fill="currentColor">
                                            <path fill-rule="evenodd" d="M10.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L12.586 11H5a1 1 0 110-2h7.586l-2.293-2.293a1 1 0 010-1.414z" clip-rule="evenodd" />
                                        </svg>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </article>
                {% endfor %}
            </div>
            {% else %}
            <div class="text-center py-20" data-aos="fade-up">
                <div class="max-w-md mx-auto">
                    <i class="fas fa-laptop-code text-6xl text-primary mb-6"></i>
                    <h3 class="text-2xl font-bold text-dark mb-4">No Projects Yet</h3>
                    <p class="text-body">Stay tuned! We'll be adding exciting projects soon.</p>
                </div>
            </div>
            {% endif %}
        </div>
    </section>
</div>
{% endblock %}

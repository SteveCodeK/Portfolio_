<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Stephen Awili - Portfolio{% endblock %}</title>
    <meta name="description" content="{% block description %}Explore the professional portfolio of Stephen Awili, an IT Specialist and Zoho Consultant in Nairobi, Kenya.{% endblock %}">

    <!-- Open Graph -->
    <meta property="og:title" content="{% block og_title %}{% block title %}Stephen Awili - Portfolio{% endblock %}{% endblock %}">
    <meta property="og:description" content="{% block og_description %}{% block description %}Explore the professional portfolio of Stephen Awili...{% endblock %}{% endblock %}">
    <meta property="og:type" content="website">
    <meta property="og:url" content="{{ request.url }}">
    <meta property="og:image" content="{% block og_image %}{{ url_for('static', filename='uploads/S-blue.png', _external=True) }}{% endblock %}">

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="{% block twitter_title %}{% block title %}{% endblock %}{% endblock %}">
    <meta name="twitter:description" content="{% block twitter_description %}{% block description %}{% endblock %}{% endblock %}">
    <meta name="twitter:image" content="{% block twitter_image %}{{ url_for('static', filename='uploads/S-blue.png', _external=True) }}{% endblock %}">

    <meta name="keywords" content="Stephen Awili, Steve Awilly, Stephen Awili, Steve Awili, Awili Steve, awilisteve.co.ke, Stephen Awili Zoho, Stephen Awili Python Zoho consultant in Nairobi Kenya, Zoho implementation, Zoho CRM customization, Zoho Creator development, Deluge scripting, Zoho Analytics, Python development, data analysis, dashboard creation, IT specialist, Web developer, Zoho intergration, IT consulting Nairobi Kenya, Zoho expert in Nairobi Kenya, business automation in Nairobi Kenya, Zoho specialist Kenya, Zoho CRM expert, Zoho consultant Kenya, Zoho Creator developer, Zoho CRM customization, Zoho implementation Kenya, Zoho automation expert,
Zoho partner Kenya, Python automation developer, API integration expert, Python developer Kenya, Business automation with Python, Data processing with Python, Streamlit dashboard developer, Google Sheets automation expert, How to customize Zoho CRM,
Best Zoho CRM consultant near me, Build fleet management app Zoho, Automate business workflows in Zoho, Zoho CRM quote automation, Automate sales reports Google Sheets, Sales dashboard for sales reps, WhatsApp integration with Zoho CRM, End-to-end business automation Zoho, Move company CRM setup (good for movers/your Taylor Movers case study)">
    <meta name="author" content="Stephen Awili">
    <meta property="og:type" content="website">

    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="icon" href="{{ url_for('static', filename='favicon.ico') }}" type="image/png" sizes="32x32">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="canonical" href="{{ request.base_url }}">
    <style>
        /* Custom styles for the Inter font and smooth scrolling */
        body {
            font-family: 'Inter', sans-serif;
            scroll-behavior: smooth;
            background-color: #f8fafc; /* Light blue-gray background */
        }
        /* Style for active navigation link (optional, for future JS implementation) */
        .nav-link.active {
            font-weight: 600;
            color: #1d4ed8; /* Blue-700 */
        }
        /* Custom scrollbar for a cleaner look */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb {
            background: #cbd5e1; /* Slate-300 */
            border-radius: 10px;
        }

            ::-webkit-scrollbar-thumb:hover {
                background: #94a3b8; /* Slate-400 */
            }
    </style>
</head>
<body class="text-gray-800">

    <nav class="bg-white shadow-sm p-4 sticky top-0 z-50 rounded-b-lg">
        <div class="container mx-auto flex justify-between items-center">
            <a href="{{ url_for('home') }}" class="text-2xl font-bold text-blue-700 rounded-md p-2 hover:bg-blue-50 transition-colors">
                Stephen Awili
            </a>

            <button id="menu-toggle" class="md:hidden text-gray-600 hover:text-blue-700 focus:outline-none">
                <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path>
                </svg>
            </button>

            <div id="desktop-menu" class="hidden md:flex space-x-4">
                <a href="{{ url_for('home') }}#about" class="nav-link text-gray-600 hover:text-blue-700 transition-colors p-2 rounded-md hover:bg-blue-50">About</a>
                <a href="{{ url_for('home') }}#skills" class="nav-link text-gray-600 hover:text-blue-700 transition-colors p-2 rounded-md hover:bg-blue-50">Skills</a>
                <a href="{{ url_for('portfolio') }}" class="nav-link text-gray-600 hover:text-blue-700 transition-colors p-2 rounded-md hover:bg-blue-50">Portfolio</a>
                <a href="{{ url_for('blog') }}" class="nav-link text-gray-600 hover:text-blue-700 transition-colors p-2 rounded-md hover:bg-blue-50">Blog</a>
                <a href="{{ url_for('home') }}#contact" class="nav-link text-gray-600 hover:text-blue-700 transition-colors p-2 rounded-md hover:bg-blue-50">Contact</a>
                
                {% if current_user.is_authenticated %}
                <a href="{{ url_for('dashboard.admin_dashboard') }}" class="nav-link text-gray-600 hover:text-blue-700 transition-colors p-2 rounded-md hover:bg-blue-50">Admin</a>
                <a href="{{ url_for('logout') }}" class="nav-link text-gray-600 hover:text-blue-700 transition-colors p-2 rounded-md hover:bg-blue-50">Logout</a>
                {% endif %}
            </div>
        </div>

        <div id="mobile-menu" class="hidden md:hidden flex flex-col items-center py-4 space-y-3 bg-white border-t border-gray-200">
            <a href="{{ url_for('home') }}#about" class="nav-link text-gray-600 hover:text-blue-700 transition-colors w-full text-center py-2 rounded-md hover:bg-blue-50">About</a>
            <a href="{{ url_for('home') }}#skills" class="nav-link text-gray-600 hover:text-blue-700 transition-colors w-full text-center py-2 rounded-md hover:bg-blue-50">Skills</a>
            <a href="{{ url_for('portfolio') }}" class="nav-link text-gray-600 hover:text-blue-700 transition-colors w-full text-center py-2 rounded-md hover:bg-blue-50">Portfolio</a>
            <a href="{{ url_for('blog') }}" class="nav-link text-gray-600 hover:text-blue-700 transition-colors w-full text-center py-2 rounded-md hover:bg-blue-50">Blog</a>
            <a href="{{ url_for('home') }}#contact" class="nav-link text-gray-600 hover:text-blue-700 transition-colors w-full text-center py-2 rounded-md hover:bg-blue-50">Contact</a>

            {% if current_user.is_authenticated %}
            <a href="{{ url_for('dashboard.admin_dashboard') }}" class="nav-link text-gray-600 hover:text-blue-700 transition-colors w-full text-center py-2 rounded-md hover:bg-blue-50">Admin</a>
            <a href="{{ url_for('logout') }}" class="nav-link text-gray-600 hover:text-blue-700 transition-colors w-full text-center py-2 rounded-md hover:bg-blue-50">Logout</a>
            {% endif %}
        </div>
    </nav>

    <div class="container mx-auto px-4 mt-4">
        {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
        {% for category, message in messages %}
        <div class="p-3 mb-4 rounded-md text-sm {% if category == 'success' %}bg-green-100 text-green-800{% elif category == 'danger' %}bg-red-100 text-red-800{% else %}bg-blue-100 text-blue-800{% endif %}" role="alert">
            {{ message }}
        </div>
        {% endfor %}
        {% endif %}
        {% endwith %}
    </div>

    {% block content %}{% endblock %}
    <script>window.$zoho = window.$zoho || {}; $zoho.salesiq = $zoho.salesiq || { ready: function () { } }</script>
    <script id="zsiqscript" src="https://salesiq.zohopublic.com/widget?wc=siq2aec5856b2f431516b64dabd820f547322bd1383f7b03aa036a1b91154328be5" defer></script>

    <br />
    <footer class="bg-gray-800 text-white py-6">
        <div class="container mx-auto px-4 text-center">
            <p class="text-sm mb-4">&copy; 2025 Stephen Awili. All rights reserved.</p>

            <div class="flex justify-center space-x-6 mb-4">
                <a href="https://ke.linkedin.com/in/stephen-awili-ba4300310?trk=profile-badge" target="_blank" rel="noopener noreferrer" class="text-gray-400 hover:text-white transition duration-300">
                    <i class="fab fa-linkedin fa-2x"></i>
                </a>

                <a href="https://github.com/SteveCodeK" target="_blank" rel="noopener noreferrer" class="text-gray-400 hover:text-white transition duration-300">
                    <i class="fab fa-github fa-2x"></i>
                </a>

                <a href="https://www.upwork.com/freelancers/~01f24ea99cbd90cd8c" target="_blank" rel="noopener noreferrer" class="text-gray-400 hover:text-white transition duration-300">
                    <i class="fab fa-upwork fa-2x"></i>
                </a>
                <a href="YOUR_FACEBOOK_PROFILE_URL" target="_blank" rel="noopener noreferrer" class="text-gray-400 hover:text-white transition duration-300">
                    <i class="fab fa-facebook fa-2x"></i>
                </a>

                {#<a href="YOUR_TWITTER_PROFILE_URL" target="_blank" rel="noopener noreferrer" class="text-gray-400 hover:text-white transition duration-300">
                    <i class="fab fa-twitter fa-2x"></i>
                </a>#}

            </div>

            <div class="flex justify-center space-x-4 text-sm">
                <a href="{{ url_for('home') }}" class="text-gray-400 hover:text-white transition duration-300">Home</a>
                <a href="{{ url_for('about') }}" class="text-gray-400 hover:text-white transition duration-300">About</a>
                <a href="{{ url_for('portfolio') }}" class="text-gray-400 hover:text-white transition duration-300">Portfolio</a>
                <a href="{{ url_for('blog') }}" class="text-gray-400 hover:text-white transition duration-300">Blog</a>
                <a href="{{ url_for('contact') }}" class="text-gray-400 hover:text-white transition duration-300">Contact</a>
            </div>
        </div>
    </footer>

    {% block scripts %}
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const menuToggle = document.getElementById('menu-toggle');
            const mobileMenu = document.getElementById('mobile-menu');

            // Toggle mobile menu visibility
            menuToggle.addEventListener('click', function() {
                mobileMenu.classList.toggle('hidden');
            });

            // Close mobile menu when a link is clicked
            mobileMenu.querySelectorAll('a').forEach(link => {
                link.addEventListener('click', () => {
                    mobileMenu.classList.add('hidden');
                });
            });

            // Smooth scrolling for anchor links
            document.querySelectorAll('a[href^="#"]').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    const hash = this.getAttribute('href');
                    const targetId = hash.substring(1);
                    const targetElement = document.getElementById(targetId);

                    // Check if the link is an internal hash and we are on the same page
                    // or if it's explicitly navigating to the home page's hash
                    const isInternalHashOnSamePage = hash.startsWith('#') && (window.location.pathname === '/' || window.location.pathname === '/home');
                    const isExternalHomeHash = hash.startsWith('{{ url_for('home') }}#') && window.location.origin + window.location.pathname !== '{{ url_for('home', _external=False) }}';

                    if (targetElement && (isInternalHashOnSamePage || isExternalHomeHash)) {
                        e.preventDefault(); // Prevent instant jump
                        targetElement.scrollIntoView({
                            behavior: 'smooth'
                        });
                    }
                });
            });

            // Handle smooth scrolling when the page loads with a hash (e.g., navigating from another page to home#about)
            document.addEventListener('DOMContentLoaded', () => {
                if (window.location.hash) {
                    const targetId = window.location.hash.substring(1);
                    const targetElement = document.getElementById(targetId);
                    if (targetElement) {
                        // Slight delay to allow page rendering before scrolling
                        setTimeout(() => {
                            targetElement.scrollIntoView({
                                behavior: 'smooth'
                            });
                        }, 100);
                    }
                }
            });
        });
    </script>
    {% endblock %}
</body>
</html>
